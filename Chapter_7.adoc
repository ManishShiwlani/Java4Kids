:toc:
:toclevels: 4
:imagesdir: ./

== Chapter 7. Creating Graphical Calculator with JavaFX 

After lots of of code example producing boring outputs to the system console, it's time for creating a nice looking GUI. We're accustomed to programs that open a window with buttons, text fields, menus and the likes. 

Java has an old library of components called Swing, and the new one called JavaFX framework. We'll use only JavaFX in this book.

In this chapter I'll explain you the basics of GUI programming with JavaFX. You'll learn how to create GUI containers and arrange GUI components inside them. In the next chapter you'll learn how to write code that reacts on user's actions (a.k.a. events) like a click on the button or a mouse move. 

By the end of this chapter we'll create a GUI calculator for the calculator that will look like this:

[[FIG7-1]]
.The Calculator
image::images/fig_7_01.png[]

This is just the GUI part. The working version of the calculator will be finished in Chapter 8.

=== Introduction to JavaFX

JavaFX is a framework for creating GUI. With JavaFX you can create Graphic User Interface in two ways:

* By writing the code in Java as you did in previous chapters.

* With the help of the tool called Scene Builder, where you'll be dragging and dropping components on the window and saving the design in the FXML format. Then the Java program will load this _.fxml_ file and display your creation.

I'll show you both ways, but let's start with some basics of development with JavaFX. Let's set the stage, because JavaFX uses theater terminology. 

IntelliJ IDEA will helps you to get stated quickly. Just  create a new project (the menu File | New Project), select JavaFX application as the project type and give a name. In a second a new project will be created with  Two Java classes `Main` and `Controller` and a file named _sample.fxml_ as shown below.

[[FIG7-2]]
.The newly generated IDEA project
image::images/fig_7_02.png[]

The `Main` class of a JavaFX application extends `Application` and is an entry point of your application. JavaFX classes are located in the packages `javafx.stage` and `javafx.scene`.The `main()` method invokes the method `launch()` from `Application`, which in turn will call the method `start()`. 
Then the program loads _sample.fxml_, sets the title of the stage and creates a `Scene` 300 by 275 pixels. 

A JavaFX application has to instantiate a `Stage` object first. Pretend that you're a play director and need to set up one or more scenes (views).  Each scene includes GUI nodes (containers and components).  These node can be instantiate either as Java classes or loaded from the `.fxml` file as it was done in the code generated by IDEA. The content of the generated _sample.fxml_ looks like this:

[source, java]
----
<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.GridPane?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<GridPane fx:controller="sample.Controller"
          xmlns:fx="http://javafx.com/fxml" alignment="center" hgap="10" vgap="10">
</GridPane>
----

FXML is a markup languages based on XML (a popular data presentation format). The idea is to separate creation of the GUI in a declarative language (FXML) and application processing (Java). If we didn't use IDEA, the FXML would be generated by a GUI designer called Scene Builder, which we'll install soon. In FXML the GUI is represented by tags located in angle brackets, e.g. `<GridPane>`. Each tag has a matching closing tag that start with a forward slash, e.g. `</GridPane>` and may have attributes (e.g. `alignment="center"`). The `<GridPane>` tag corresponds to the Java class `GrindPane`, which is one of the JavaFX layouts - I'll explain them shortly.

The generated Java class `Controller` is empty at this point, but we'll use it later to code application logic. Run the `Main` program and it'll show an empty window that looks like this:

[[FIG7-3]]
.Running the generated application
image::images/fig_7_03.png[]







Each node can be styled using the Cascading Style Sheet (CSS) file. CSS are widely used for styling Web applications. On the top of the scene graph you'll create a root node. 

 


=== Challenge Yourself

